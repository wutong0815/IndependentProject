spring:
  application:
    name: springboot-common
  data:
    redis:
      host: 127.0.0.1
      port: 6379
      password: 123456
      database: 0
      connect-timeout: 10000
      timeout: 3000
    # Lettuce连接池配置
    lettuce:
      pool:
        max-active: 20
        max-wait: -1ms
        max-idle: 10
        min-idle: 2
        time-between-eviction-runs: 30000ms
      shutdown-timeout: 100ms

    # 集群配置（可选）
    # cluster:
    #   nodes:
    #     - 127.0.0.1:7001
    #     - 127.0.0.1:7002
    #     - 127.0.0.1:7003
    #   max-redirects: 3

    # 哨兵配置（可选）
    # sentinel:
    #   master: mymaster
    #   nodes:
    #     - 127.0.0.1:26379
    #     - 127.0.0.1:26380
    #     - 127.0.0.1:26381

# Redisson配置
redisson:
  config: |
    singleServerConfig:
      address: "redis://${spring.redis.host}:${spring.redis.port}"
      password: ${spring.redis.password}
      database: ${spring.redis.database}
      connectionPoolSize: 64
      connectionMinimumIdleSize: 24
      subscriptionConnectionPoolSize: 50
      idleConnectionTimeout: 10000
      connectTimeout: 10000
      timeout: 3000
      retryAttempts: 3
      retryInterval: 1500

# 缓存配置
cache:
  redis:
    # 默认过期时间（秒）
    default-expiration: 3600
    # 缓存空值
    cache-null-values: true
    # 键前缀
    key-prefix: "cache:"
    # 使用键前缀
    use-key-prefix: true
